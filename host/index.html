<!DOCTYPE html>
<html lang="en">

    <!-- SET title=Host | Multigolf -->
    <!-- SET description=Page to start and host a multi.golf game that others can join -->
    <!-- BEGIN default_head -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Page to start and host a multi.golf game that others can join">
        <meta charset="UTF-8">
        <title>Host | Multigolf</title>
        <link rel="manifest" href="../manifest.json">
        <link rel="icon" type="image/svg" href="../assets/logo/favicon.ico">
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="../$extra_css$">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Quicksand">
    </head>
    <!-- END -->

    <body>

        <!-- BEGIN default_header -->
        <header class="at-top">
            <div class="header-content">
                <a href="../" class="logo-container">
                    <img src="../assets/logo/logo.svg" class="logo" alt="Multigolf Logo" />
                    <div class="logo-text" href="../">Multigolf</div>
                </a>
                <div class="link-island">
                    <a href="../host/">
                        <span lang="en">Start Game</span>
                        <span lang="de">Spiel Starten</span>
                    </a>
                    <a href="../join/">
                        <span lang="en">Join Game</span>
                        <span lang="de">Spiel Beitreten</span>
                    </a>
                    <a href="../about/">
                        <span lang="en">About</span>
                        <span lang="de">Info</span>
                    </a>
                    <a href="../faq/">
                        <span lang="en">FAQ</span>
                        <span lang="de">FAQ</span>
                    </a>
        
                    <a class="change-lang-button"></a>
                </div>
                <div class="hamburger-icon" tabindex="0">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
            </div>
            <div class="header-drop-menu">
                <a lang="en" href="../host/">Start a Game</a>
                <a lang="en" href="../join/">Join a Game</a>
                <a lang="en" href="../about/">What is Multigolf?</a>
                <a lang="en" href="../faq/">FAQ & Help</a>
                <a lang="en" href="../contact/">Contact</a>
        
                <a lang="de" href="../host/">Spiel Starten</a>
                <a lang="de" href="../join/">Spiel Beitreten</a>
                <a lang="de" href="../about/">Was ist Multigolf?</a>
                <a lang="de" href="../faq/">FAQ & Hilfe</a>
                <a lang="de" href="../contact/">Kontakt</a>
        
                <a class="change-lang-button"></a>
            </div>
        </header>
        <div class="header-placeholder"></div>
        
        <script>
            {
                const changeLangButtons = document.querySelectorAll(".change-lang-button")
                for (const changeLangButton of changeLangButtons) {
                    changeLangButton.onclick = event => {
                        const languages = ["en", "de"]
                        const currStyle = localStorage.getItem("lang") || languages[0]
                        const nextIndex = (languages.indexOf(currStyle) + 1) % languages.length
                        const nextNextIndex = (languages.indexOf(currStyle) + 2) % languages.length
                        localStorage.setItem("lang", languages[nextIndex])
                        document.documentElement.lang = localStorage.getItem("lang")
        
                        changeLangButton.animate([
                            { transform: "rotateX(0deg)" },
                            { transform: "rotateX(360deg)" }
                        ], {
                            easing: "ease-in-out",
                            duration: 350,
                            fill: "forwards"
                        })
        
                        event.preventDefault()
                    }
                }
        
                const header = document.querySelector("header")
                const hamburger = document.querySelector(".hamburger-icon")
                const headerDropMenu = document.querySelector(".header-drop-menu")
        
                hamburger.onclick = () => {
                    header.classList.toggle("expanded")
                    hamburger.classList.toggle("x")
                    headerDropMenu.classList.toggle("visible")
                }
        
                const getLastUrlBit = href => href.split("/").filter(s => s).slice(-1)[0]
                for (const a of document.querySelectorAll("header .link-island a")) {
                    if (getLastUrlBit(a.href) == getLastUrlBit(location.href)) {
                        a.classList.add("current")
                    }
                }
        
                addEventListener("scroll", () => {
                    // on bouncy browser views (e.g. latest safari),
                    // window.scrollY can be negative during the bouncing animation!
        
                    if (window.scrollY <= 0) {
                        header.classList.add("at-top")
                        headerDropMenu.classList.add("at-top")
                    } else {
                        header.classList.remove("at-top")
                        headerDropMenu.classList.remove("at-top")
                    }
                })
            }
        </script>
        <!-- END -->
        
        <main>
            <h2 id="loading-indicator">
                <span lang="en">Loading...</span>
                <span lang="de">Wird geladen...</span>
            </h2>

            <fieldset style="gap: .2em; display: none;" id="player-list-fieldset">
                <legend>
                    <span lang="en">Connected Players</span>
                    <span lang="de">Verbundene Spieler</span>
                </legend>
                <div id="player-list-container" style="margin-top: -.5em">
                    <span lang="en">Once you connect players, they will show up here.</span>
                    <span lang="de">Sobald du Spieler verbindest tauchen sie hier auf.</span>
                </div>
            </fieldset>

            <fieldset id="board-canvas-fieldset" style="display: none;">
                <legend>
                    <span lang="en">Multigolf Board</span>
                    <span lang="de">Multigolf Kurs</span>
                </legend>
                <canvas id="board-canvas" style="display: none;"></canvas>
            </fieldset>

            <section data-phase="hello">
                <h2>
                    <span lang="en">Welcome to Multigolf!</span>
                    <span lang="de">Willkommen bei Multigolf!</span>
                </h2>
                <p>
                    <span lang="en">
                        Good morning! You're the host of this fantastic
                        new game of Multigolf. Gather some pals,
                        steal some phones and have a good time!
                    </span>
                    <span lang="de">
                        Guten Morgen! Du bist hiermit das Server-Gerät
                        dieser fantastischen neuen Runde Multigolf. Hol' n' paar 
                        Freunde, stiehl ein paar Handys und habt ne gute Zeit!
                    </span>
                </p>
                <h3>
                    <span lang="en">You need</span>
                    <span lang="de">Ihr braucht</span>
                </h3>
                <ol>
                    <li>
                        <span lang="en">At least 2 devices (including this one)</span>
                        <span lang="de">Mindestens 2 Geräte (dieses mit eingerechnet)</span>
                    </li>
                    <ul>
                        <li>
                            <span lang="en">it begins being more fun with 4</span>
                            <span lang="de">es macht viel mehr Spaß mit mindestens 4</span>
                        </li>
                    </ul>
                    <li>
                        <span lang="en">1 to 8 players depending on the game mode you will choose</span>
                        <span lang="de">1 bis 8 Spieler, je nach Spielmodus den du gleich auswählst</span>
                    </li>
                    <ul>
                        <li>
                            <span lang="en">available game modes: Tournament, Duel, Sandbox</span>
                            <span lang="de">verfügbare Spielmodi: Turnier, Duell, Freies Spiel</span>
                        </li>
                    </ul>
                </ol>
                <p lang="en">
                    <span style="color: red">Warning!</span>
                    Do not close this page while the game is
                    running or being configured. While other
                    phones may be reconnected, this phone (the host)
                    cannot. Closing this page will lose
                    the entire game state; you will have to 
                    restart from Scratch.
                </p>
                <p lang="de">
                    <span style="color: red">Warnung!</span>
                    Schließe diese Seite während des ganzen Spiels
                    auf keinen Fall. Während andere Geräte 
                    wiederverbunden werden können, wird das 
                    gesamte Spiel enden, wenn dieses Gerät ausgeht oder
                    abstürzt (hast du genug Akku?)
                </p>
                <p>
                    <span lang="en">
                        If you're ready, click the button below
                        to start your Multigolf adventure.
                    </span>
                    <span lang="de">
                        Wenn du bereit bist, clicke auf "Spiel Starten",
                        um das Multigolf Abenteuer zu starten.
                    </span>
                </p>
                <button onclick="changeGamePhase(gamePhase.ModeChoice)">
                    <span lang="en">
                        Start the Game
                    </span>
                    <span lang="de">
                        Spiel Starten
                    </span>
                </button>
            </section>

            <section data-phase="mode-choice">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Choose your Gamemmode</span>
                    <span lang="de">Spielmodus wählen</span>
                </h2>
                <p>
                    <span lang="en">
                        To start, choose a Gamemode. The number of players
                        does not have to match the number of phones. You can
                        play a Tournament with only one more phone
                        (maybe not a very interesting one).
                    </span>
                    <span lang="de">
                        Die Anzahl der Spielerinnen und Spieler muss nicht der Anzahl
                        der Geräte entsprechen. Du kannst zum Beispiel ein Turnier mit 
                        nur einem Gerät spielen (ein sehr langweiliges Turnier).
                    </span>
                </p>
                <h3>
                    <span lang="en">🏆 Tournament (1-8 Players)</span>
                    <span lang="de">🏆 Turnier (1-8 Spielerinnen/Spieler)</span>
                </h3>
                <p>
                    <span lang="en">
                        Introducing Tournament mode - the ultimate party-friendly
                        showdown! In this classic mode, each player takes turns
                        crafting a course for all to play. The game tracks scores
                        across all boards, culminating in the crowning of the
                        Multigolf Master!
                    </span>
                    <span lang="de">
                        Der ultimative Party-freundliche Showdown! Die Multigolfer müssen
                        nacheinander Kurse bauen, die anschließend von allen gespielt
                        werden. Die Punktzahl wird tabellarisch gespeichert und am Spielende
                        wird ein Sieger oder eine Siegerin gekürt!
                    </span>
                </p>
                <button onclick="chooseGamemode(gameMode.Tournament)">
                    <span lang="en">Begin a Tournament</span>
                    <span lang="de">Fang ein Turnier an </span>
                </button>
                <h3>
                    <span lang="en">🔫 Duel (2 Players)</span>
                    <span lang="de">🔫 Duell (2 Spielerinnen/Spieler)</span>
                </h3>
                <p>
                    <span lang="en">
                        In Duell mode, both players collaborate
                        to build a course and place their opponent's hole. Using
                        the same ball, players take turns hitting it in their
                        chosen direction, aiming to reach their opponent's hole.
                        It's a game of skill and strategy where each shot counts,
                        and the player who sinks their opponent's hole first claims
                        victory.
                    </span>
                    <span lang="de">
                        Im Duellmodus bauen zwei Spieler/innen zusammen einen Kurs.
                        Im Kurs werden dabei zwei Löcher verbaut, sodass jeder
                        sein eigenes Loch hat, in das getroffenen werden muss.
                        Der Twist: beide spielen abwechselnd mit dem gleichen Ball!
                        Dieser Modus funktioniert am Besten mit möglichst vielen Geräten.
                    </span>
                </p>
                <button onclick="chooseGamemode(gameMode.Duell)">
                    <span lang="en">Initiate the Duel</span>
                    <span lang="de">Initiiere das Duell</span>
                </button>
                <h3>
                    <span lang="en">🐔 Sandbox mode (1+ Players)</span>
                    <span lang="de">🐔 Freies Spiel (1+ Spielerinnen/Spieler)</span>
                </h3>
                <p>
                    <span lang="en">
                        Last but <span style="text-decoration: line-through;">not</span>
                        least: Sandbox mode. This mode isn't as competitive and great
                        for testing the concept or really anything you like. Spawn
                        as many balls as you want and let the chaos arrive.
                        There is no player limit, as there are no scores that
                        are tracked automatically.
                    </span>
                    <span lang="de">
                        In diesem Modus gibt es keine Gewinner, keine Wettkämpfe oder
                        festen Ziele. Du kannst einen Kurs bauen, beliebig viele 
                        Bälle erzeugen und kreative Kursideen testen.
                    </span>
                </p>
                <button onclick="chooseGamemode(gameMode.Sandbox)">
                    <span lang="en">Dive into the Sandbox</span>
                    <span lang="de">Starte das Freie Spiel</span>
                </button>
            </section>

            <section data-phase="player-setup-duell">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Player Registration</span>
                    <span lang="de">Registrierung</span>
                </h2>
                <p>
                    <span lang="en">
                        I need to know the name of the two duellists.
                    </span>
                    <span lang="de">
                        Jetzt brauche ich die Namen der zwei Spielerinnen und Spieler.
                    </span>
                </p>
                <fieldset style="gap: .2em">
                    <legend>
                        <span lang="en">Player Names</span>
                        <span lang="de">Spielernamen</span>
                    </legend>
                    <input type="text" placeholder="Name 1" data-game-mode="duell" data-name-index="0">
                    <input type="text" placeholder="Name 2" data-game-mode="duell" data-name-index="1">
                </fieldset>
                <button onclick="registerPlayers()">
                    <span lang="en">I'm finished!</span>
                    <span lang="de">Fertig!</span>
                </button>
            </section>

            <section data-phase="player-setup-tournament">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Player Registration</span>
                    <span lang="de">Registrierung</span>
                </h2>
                <p>
                    <span lang="en">
                        I need the participants names! Leave names empty to
                        play with less than 8 players.
                    </span>
                    <span lang="de">
                        Jetzt brauche ich die Namen! Du kannst Felder frei
                        lassen, um das Spiel mit weniger als 8 Spielerinnen und
                        Spielern anzufangen.
                    </span>
                </p>
                <fieldset class="many-inputs">
                    <legend>
                        <span lang="en">Player Names</span>
                        <span lang="de">Spielernamen</span>
                    </legend>
                    <input type="text" placeholder="Name 1" data-game-mode="tournament" data-name-index="0">
                    <input type="text" placeholder="Name 2" data-game-mode="tournament" data-name-index="1">
                    <input type="text" placeholder="Name 3" data-game-mode="tournament" data-name-index="2">
                    <input type="text" placeholder="Name 4" data-game-mode="tournament" data-name-index="3">
                    <input type="text" placeholder="Name 5" data-game-mode="tournament" data-name-index="4">
                    <input type="text" placeholder="Name 6" data-game-mode="tournament" data-name-index="5">
                    <input type="text" placeholder="Name 7" data-game-mode="tournament" data-name-index="6">
                    <input type="text" placeholder="Name 8" data-game-mode="tournament" data-name-index="7">
                </fieldset>
                <button onclick="registerPlayers()">
                    <span lang="en">I'm finished!</span>
                    <span lang="de">Fertig!</span>
                </button>
            </section>

            <section data-phase="loading">
                <h2>
                    <span lang="en">Loading...</span>
                    <span lang="en">Wird geladen...</span>
                </h2>
                <p>
                    <span lang="en">
                        I'm currently loading all connected devices. This won't
                        take long. I promise.
                    </span>
                    <span lang="de">
                        Ich lade aktuell die verbunden Geräte. Das wird nicht lange
                        dauern, versprochen.
                    </span>
                </p>
            </section>

            <section data-phase="connecting">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Device Connections</span>
                    <span lang="de">Geräte Verbinden</span>
                </h2>
                <p>
                    <span lang="en">
                        Tell everyone to scan the QR code below! You do not
                        need to download anything to play.
                    </span>
                    <span lang="de">
                        Jetzt muss jede Person den QR Code unten scannen. Es
                        muss dafür nichts installiert werden - mit den meisten Geräten
                        kann einfach die Kamera-App genutzt werden. Alternativ
                        kannst du auch zu <a href="../join">www.multi.golf/join/</a>
                        gehen und die Spiel-ID unten manuell eingeben.
                    </span>
                </p>
                <p>
                    <span lang="en">
                        <span style="color: blue;">Important</span>: it's likely that you will
                        experience connection problems between devices that are in different
                        networks. For best results, connect all devices to a local hotspot,
                        ideally created by this device.
                    </span>
                    <span lang="de">
                        <span style="color: blue;">Wichtig</span>: es kann immer zu
                        Verbindungsproblemen kommen. Für die besten Verbindungen befinden
                        sich alle Geräte im gleichen Netzwerk, z.B. in einem Hotspot, der
                        von dem Server-Gerät gehostet wird oder einem lokalen Wlan.
                    </span>
                </p>

                <div id="qr-img">
                    <div class="qr-loading"></div>
                </div>
                
                <button id="finish-players-button" onclick="finishPlayers()">
                    <span lang="en">I've connected all Devices!</span>
                    <span lang="de">Ich habe alle Geräte hinzugefügt!</span>
                </button>

                <p id="log-output" style="font-family: monospace; white-space: pre-wrap; text-align: left"></p>
            </section>

            <section data-phase="config-game">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Game Configuration</span>
                    <span lang="de">Optionen</span>
                </h2>
                <p>
                    <span lang="en">
                        You have successfully connected <span data-fill="num-connected-devices">?</span>
                        device(s). You're now able to configure a few settings about the game.
                    </span>
                    <span lang="de">
                        Du hast erfolgreich <span data-fill="num-connected-devices">?</span>
                        Gerät(e) verbunden. Hier kannst du jetzt ein paar Einstellungen zum Spiel bearbeiten.
                    </span>
                </p>
                <div id="game-config-container"></div>
                <button onclick="finishConfig()">
                    <span lang="en">Continue</span>
                    <span lang="de">Weiter</span>
                </button>
            </section>
        
            <section data-phase="tournament-explanation">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <p>
                    <span lang="en">
                        <span data-fill="tournament-builder-name">NAME</span>
                        is the course constructor now.
                    </span>
                    <span lang="de">
                        <span data-fill="tournament-builder-name">NAME</span>
                        ist jetzt dran, einen Kurs zu bauen. 
                    </span>
                </p>
                <p>
                    <span lang="en">
                        After having constructed your course, everyone 
                        (including <span data-fill="tournament-builder-name">NAME</span>)
                        will play the course. Once everyone is finished, the next
                        person will construct a course.
                    </span>
                    <span lang="de">
                        Nachdem der Kurs fertig ist, wird jeder
                        (inklusive <span data-fill="tournament-builder-name">NAME</span>)
                        ihn spielen. Wenn jeder fertig ist wird die nächste Person den Kurs bauen.
                    </span>
                </p>
                <button onclick="startGame()">
                    <span lang="en">Begin Constructing</span>
                    <span lang="de">Kurs bauen</span>
                </button>
            </section>

            <section data-phase="duell-explanation">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Let the duel begin!</span>
                    <span lang="de">Lass das Duell beginnen!</span>
                </h2>
                <p>
                    <span lang="en">
                        Welcome to the duel! You will now have to construct your course.
                        You both need to do this together. You also both decide the end
                        position together, however you will have to place your 
                        opponents hole (as there are two holes in this mode!).
                    </span>
                    <span lang="de">
                        Willkommen zum Duell-Modus. Ihr werdet gleich zusammen
                        den Kurs bauen. Nachdem ihr zufrieden mit dem Kurs und den Hindernissen 
                        seid, könnt ihr eure Löcher platzieren.<br>
                        <span style="color: blue;">Wichtig</span>: Euer jeweiliges
                        Loch muss von eurem Gegner platziert werden.
                    </span>
                </p>
                <button onclick="startGame()">
                    <span lang="en">Begin Constructing</span>
                    <span lang="de">Weiter</span>
                </button>
            </section>

            <section data-phase="construction-choice">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Course Layout</span>
                    <span lang="de">Kurs-Layout</span>
                </h2>
                <p>
                    <span lang="en">
                        How do you want to choose the course layout (how the 
                        devices lie next to each other)?
                    </span>
                    <span lang="de">
                        Wie willst das Kurs-Layout (wie die Geräte zueinander liegen)
                        bestimmen?
                    </span>
                </p>
                <button onclick="finishConstruction()" id="keep-layout-button">
                    <span lang="en">Keep current Layout</span>
                    <span lang="de">Aktuelles Layout behalten</span>
                </button>
                <fieldset>
                    <legend>
                        <span lang="en">Automatic Layout</span>
                        <span lang="de">Automatisches Layout</span>
                    </legend>
                    <p>
                        <span lang="en">
                            The game will suggest layouts for you to replicate.
                        </span>
                        <span lang="de">
                            Das Spiel wird Layouts vorschlagen, die du nachbauen
                            sollst.
                        </span>
                    </p>
                    <button onclick="changeGamePhase(gamePhase.ConstructionAuto)">
                        <span lang="en">Start an Auto-Layout</span>
                        <span lang="de">Automatisches Layout starten</span>
                    </button>
                </fieldset>
                <fieldset>
                    <legend>
                        <span lang="en">Custom Layout</span>
                        <span lang="de">Eigenes Layout</span>
                    </legend>
                    <p>
                        <span lang="en">
                            To create a custom layout, you will have
                            to tell the game exactly how the phones lie next
                            to each other by drawing lines with your finger
                            along connection edges. This can take a bit of time.
                        </span>
                        <span lang="de">
                            Um ein eigenes Layout zu erstellen, musst du
                            dem Spiel vermitteln, wie die Geräte zueinander liegen.
                            Dazu malst du Linien mit deinem Finger entlang verbundener
                            Kanten. Das kann je nach Geräteanzahl ein bisschen dauern.
                        </span>
                    </p>
                    <button onclick="changeGamePhase(gamePhase.ConstructionCustom)">
                        <span lang="en">Start a Custom-Layout</span>
                        <span lang="de">Eigenes Layout starten</span>
                    </button>
                </fieldset>
            </section>

            <section data-phase="construction-custom">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Custom Course Layout</span>
                    <span lang="de">Eigenes Kurs-Layout</span>
                </h2>
                <p>
                    <span lang="en">
                        To connect phones to each other manually,
                        draw lines on both edges on both phones that you want to connect.
                        You can only connect ascending phone numbers to each other: 
                        #1 to #2, #2 to #3, etc. You can see the current board 
                        status (what the game thinks your board looks like) above.
                    </span>
                    <span lang="de">
                        Du kannst die Geräte manuell miteinander verbinden, indem
                        du eine Linie entlang der gewünschten Kante auf beiden Geräten
                        (ungefähr) gleichzeitig malst (siehe GIF unten). Bitte verbinde
                        Gerät #1 mit #2, #2 mit #3 usw. Du kannst oben sehen, wie der
                        Computer deine Linien bisher interpretiert hat.
                    </span>
                </p>
                <img src="../assets/gifs/building.gif">
                <button onclick="finishConstruction()">
                    <span lang="en">I've connected all phones!</span>
                    <span lang="de">Ich habe alle Geräte verbunden!</span>
                </button>
            </section>

            <section data-phase="construction-auto">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Automatic Course Layout</span>
                    <span lang="de">Automatisches Kurs-Layout</span>
                </h2>
                <p>
                    <span lang="en">
                        Please tap on each device once to ensure
                        that all screens are correctly sized (some may
                        be able to go into fullscreen, most iPhones won't).
                    </span>
                    <span lang="de">
                        Tippe auf jedem Gerät einmal auf den Display,
                        um sicherzugehen, dass die Displays maximiert werden
                        (manche Geräte können den Vollbildmodus aktivieren, die
                        meisten iPhones nicht).
                    </span>
                </p>
                <div id="layout-choice-container"></div> 
                <button onclick="generateBoardTemplates()">
                    <span lang="en">Regenerate</span>
                    <span lang="de">Regenerieren</span>
                </button>
            </section>

            <section data-phase="placing">
                <button class="back-button" onclick="back()">
                    <span lang="en">&#x25c0; Back</span>
                    <span lang="de">&#x25c0; Zurück</span>
                </button>
                <h2>
                    <span lang="en">Placing Objects</span>
                    <span lang="de">Objekte Platzieren</span>
                </h2>
                <p>
                    <span lang="en">
                        Select an object below and click anywhere on the course to place it.
                        Every course must have at least a start and a hole. You can move
                        existing objects around by dragging and pinching. Remove objects using
                        the eraser.
                    </span>
                    <span lang="de">
                        Wähle ein Objekt aus und tippe irgendwo auf dem Kurs um es zu platzieren.
                        Ein Kurs braucht mindestens einen Start und ein Loch. Du kannst 
                        platzierte Objekte bewegen und vergrößern/drehen, indem du sie
                        auswählst und an der markierten Ecke ziehst. Benutze den Radierer, um
                        Objekte zu löschen.
                    </span>
                </p>
                <div class="object-selection-container"></div>
                <fieldset style="border-radius: .5rem; grid-template-columns: 1fr 1fr;">
                    <legend>
                        <span lang="en">Place Random Objects</span>
                        <span lang="de">Zufällige Objekte Platzieren</span>
                    </legend>
                    <button class="smaller" onclick="placeRandomObjects(3, golfObjectType.Lava)">
                        <span lang="en"><b>3</b>x Lava</span>
                        <span lang="de"><b>3</b>x Lava</span>
                    </button>
                    <button class="smaller" onclick="placeRandomObjects(3, golfObjectType.GravityBox)">
                        <span lang="en"><b>3</b>x Gravity</span>
                        <span lang="de"><b>3</b>x Gravitations-Box</span>
                    </button>
                </fieldset>
                <button onclick="finishPlacing()">
                    <span lang="en">I'm finished.</span>
                    <span lang="de">Fertig!</span>
                </button>
            </section>

            <section data-phase="playing-tournament">
                <h2>
                    <span lang="en">
                        <span data-fill="tournament-active-name">NAME</span>'s Turn
                    </span>
                    <span lang="de">
                        <span data-fill="tournament-active-name">NAME</span>'s Zug
                    </span>
                </h2>
                <img class="scoreboard">
                <p>
                    <span lang="en">
                        You're currently playing the course built by
                        <span data-fill="tournament-builder-name">NAME</span>.
                        Currently, it's <span data-fill="tournament-active-name">NAME</span>'s
                        turn to kick the ball. 
                        You can make a maximum of <span data-fill="tournament-max-kicks">#</span> kicks,
                        after which the round will be over.
                    </span>
                    <span lang="de">
                        Ihr spielt gerade den Kurs von <span data-fill="tournament-builder-name">NAME</span>.
                        Es ist gerade <span data-fill="tournament-active-name">NAME</span>'s Zug den Ball 
                        zu schießen. Wenn ihr nach <span data-fill="tournament-max-kicks">#</span> Schlägen
                        nicht im Loch seid, bekommt ihr 2 Strafpunkte.
                    </span>
                </p>
            </section>

            <section data-phase="playing-duell">
                <h2>
                    <span lang="en">Duel</span>
                    <span lang="de">Duell</span>
                </h2>
                <p>
                    <span lang="en">
                        Take turns kicking the ball. <span data-fill="duell-active-name"></span>
                        starts. Once the ball reaches a hole, the winner will be chosen!
                    </span>
                    <span lang="de">
                        Wechselt euch ab, den Ball zu schlagen. 
                        <span data-fill="duell-active-name"></span> fängt an. Wenn der
                        Ball in ein Loch fällt wird der Gewinner / die Gewinnerin gekrönt.
                    </span>
                </p>
            </section>

            <section data-phase="playing-sandbox">
                <h2>
                    <span lang="en">Sandbox</span>
                    <span lang="de">Freies Spiel</span>
                </h2>
                <button onclick="gameState.board.spawnBall()">
                    <span lang="en">Spawn a new Ball</span>
                    <span lang="de">Ball hinzufügen</span>
                </button>
                <hr>
                <button onclick="playNewGame()">
                    <span lang="en">Play a new Gamemode</span>
                    <span lang="de">Spielmodus wechseln</span>
                </button>
            </section>

            <section data-phase="showing-results-of-tournament">
                <h2>
                    <span lang="en">Tournament Results</span>
                    <span lang="de">Turnier Resultate</span>
                </h2>
                <img class="scoreboard">
                <button onclick="shareScoreboard()">
                    <span lang="en">🎈 Share Scores</span>
                    <span lang="de">🎈 Ergebnisse teilen</span>
                </button>
                <p>
                    <span lang="en">
                        Thank you very much for playing. If you want to
                        share these results with your friends, make sure
                        to click the share button above. 
                    </span>
                    <span lang="de">
                        Vielen Dank fürs Spielen. Wenn es euch gefallen hat,
                        kannst du über den "Ergebnisse teilen"-Button 
                        die Ergbnisse mit deinen Freunden teilen.
                    </span>
                </p>
                <fieldset>
                    <legend>Feedback</legend>
                    <p>
                        <span lang="en">
                            How did you find the game? What could be improved or added?
                            If you have a minute, it would be very helpful to give some quick feedback,
                            even if it's just a thumbs up or down (it's completely anonymous).
                        </span>
                        <span lang="de">
                            Wie war das Spiel? Was könnte verbessert oder hinzugefügt werden?
                            Wenn du eine Minute Zeit hättest, wäre ein schnelles Feedback super hilfreich,
                            auch wenn es nur ein schneller Daumen nach unten oder oben ist
                            (es ist komplett anonym).
                        </span>
                    </p>
                    <div class="custom-form feedback-form">
                        <textarea rows="5" placeholder="Feedback Text" name="feedback-text"></textarea>
                        <button class="smaller">Send Feedback</button>
                    </div>
                </fieldset>
                <button onclick="playNewGame()">
                    <span lang="en">Play a new Game</span>
                    <span lang="de">Neues Spiel anfangen</span>
                </button>
            </section>

            <section data-phase="showing-results-of-duell">
                <h2>
                    <span lang="en">
                        <span data-fill="duell-winner-name"></span> won the Duel!
                    </span>
                    <span lang="de">
                        <span data-fill="duell-winner-name"></span> hat das Duell gewonnen!
                    </span>
                </h2>
                <p>
                    <span lang="en">
                        Well. The duel is over and the winner was determined! You can play
                        another game mode or another Duell by clicking the button below.
                        Thank you for playing!
                    </span>
                    <span lang="de">
                        Das Duell ist vorbei! Vielen Dank fürs Spielen! Benutze den Button unten,
                        um ein neues Spiel (vielleicht ein anderer Spielmodus?) anzufangen.
                    </span>
                </p>
                <fieldset>
                    <legend>Feedback</legend>
                    <p>
                        <span lang="en">
                            How did you find the game? What could be improved or added?
                            If you have a minute, it would be very helpful to give some quick feedback,
                            even if it's just a thumbs up or down (it's completely anonymous).
                        </span>
                        <span lang="de">
                            Wie war das Spiel? Was könnte verbessert oder hinzugefügt werden?
                            Wenn du eine Minute Zeit hättest, wäre ein schnelles Feedback super hilfreich,
                            auch wenn es nur ein schneller Daumen nach unten oder oben ist
                            (es ist komplett anonym).
                        </span>
                    </p>
                    <div class="custom-form feedback-form">
                        <textarea rows="5" placeholder="Feedback Text" name="feedback-text"></textarea>
                        <button class="smaller">Send Feedback</button>
                    </div>
                </fieldset>
                <button onclick="playNewGame()">
                    <span lang="en">Play a new Game</span>
                    <span lang="de">Neues Spiel anfangen</span>
                </button>
            </section>
        </main>

        <!-- BEGIN default_footer -->
        <footer>
            <div class="link-grid">
                <div class="link-group">
                    <div class="group-header">Game</div>
                    <a class="group-item" href="../host">
                        <span lang="en">Start a Game</span>
                        <span lang="de">Spiel Starten</span>
                    </a>
                    <a class="group-item" href="../join">
                        <span lang="en">Join a Game</span>
                        <span lang="de">Spiel Beitreten</span>
                    </a>
                    <a class="group-item" href="../mono">
                        <span lang="en">Play Monogolf</span>
                        <span lang="de">Spiel Monogolf</span>
                    </a>
                </div>
                <div class="link-group">
                    <div class="group-header">Info</div>
                    <a class="group-item" href="../about">
                        <span lang="en">About Multigolf</span>
                        <span lang="de">Über Multigolf</span>
                    </a>
                    <a class="group-item" href="../faq">FAQ</a>
                    <a class="group-item" href="../contact">
                        <span lang="en">Contact Me</span>
                        <span lang="de">Kontakt</span>
                    </a>
                </div>
                <div class="link-group">
                    <div class="group-header">
                        <span lang="en">Legal</span>
                        <span lang="de">Legales</span>
                    </div>
                    <a class="group-item" href="../impressum">
                        <span lang="en">Imprint</span>
                        <span lang="de">Impressum</span>
                    </a>
                    <a class="group-item" href="../data-privacy">
                        <span lang="en">Data Privacy</span>
                        <span lang="de">Datenschutz</span>
                    </a>
                </div>
                <div class="link-group">
                    <div class="group-header">
                        <span lang="en">Socials</span>
                        <span lang="de">Links</span>
                    </div>
                    <a class="group-item" href="https://www.instagram.com/multi.golf/">Instagram</a>
                    <a class="group-item" href="https://www.tiktok.com/@multi.golf">TikTok</a>
                    <a class="group-item" href="https://multigolf.myspreadshop.de/" target="_blank">
                        <span lang="en">Merch Shop</span>
                        <span lang="de">Fan-Shop</span>
                    </a>
                </div>
            </div>
            <hr>
            <div class="footer-text">
                <span lang="en" class="text">Made by Noel Friedrich</span>
                <span lang="de" class="text">Erstellt von Noel Friedrich</span>
                <button class="theme-changer" id="change-style-a">
                    <span lang="en">Change Theme</span>
                    <span lang="de">Hell/Dunkel</span>
                </button>
            </div>
        </footer>
        
        <script>
            document.getElementById("change-style-a").onclick = event => {
                const styles = ["light", "dark"]
                const currStyle = localStorage.getItem("style") || "light"
                const nextIndex = (styles.indexOf(currStyle) + 1) % styles.length
                localStorage.setItem("style", styles[nextIndex])
                document.body.dataset.style = localStorage.getItem("style") || "light"
        
                event.preventDefault()
            }
        </script>
        <!-- END -->
        
        <!-- BEGIN default_js -->
        <script>
            {
                // update theme
                if (localStorage.getItem("style") == null) {
                    // const prefersDarkMode = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches
                    localStorage.setItem("style", "light")
                }
                document.body.dataset.style = localStorage.getItem("style")
        
                // update language
                if (localStorage.getItem("lang") == null) {
                    const userDefaultLang = navigator.language || navigator.userLanguage
                    if (userDefaultLang.startsWith("de")) {
                        localStorage.setItem("lang", "de")
                    } else {
                        localStorage.setItem("lang", "en")
                    }
                }
                document.documentElement.lang = localStorage.getItem("lang")
        
        
                // replace CSS "100vh" with actual inner height in px
                // (-1 to prevent inaccuracies in some browsers)
                const updateInnerHeight = () => {
                    const height = window.screen?.availHeight || window.innerHeight
                    document.body.style.setProperty("--full-height", `${height - 1}px`)
                }
                updateInnerHeight()
                addEventListener("resize", updateInnerHeight)
        
                // register service worker for PWA functionality
                if ("serviceWorker" in navigator) {
                    navigator.serviceWorker.register("../service_worker.js")
                }
        
                // make smooth jump links work
                for (const element of document.querySelectorAll(".smooth-jump")) {
                    console.log(element)
                    if (!element.dataset.jumpTo) continue
                    const target = document.querySelector(element.dataset.jumpTo)
                    if (!target) continue
                    element.addEventListener("click", () => {
                        target.scrollIntoView({
                            behavior: "smooth"
                        })
                    })
                }
        
                // enable mobile debugging
                const urlParams = new URLSearchParams(window.location.href)
                if (urlParams.has("show_errors")) {
                    console.log("Activated Alert Debug Mode")
                    addEventListener("error", event => {
                        const textNode = document.createElement("div")
                        textNode.textContent = `[L${event.lineno} C${event.colno}] ${event.message} (${event.filename})`
                        document.body.appendChild(textNode)
                        console.log("DEBUG", textNode.textContent)
                    })
                }
            }
        </script>
        <!-- END -->

        <!-- SET js_version=29 -->
        <!-- JS_IMPORT js/text.js -->
        <!-- JS_IMPORT js/qrcode.js -->
        <!-- JS_IMPORT js/sprite.js -->
        <!-- JS_IMPORT js/nosleep.js -->
        <!-- JS_IMPORT js/mathutils.js -->
        <!-- JS_IMPORT js/phone_coordinates.js -->
        <!-- JS_IMPORT js/board.js -->
        <!-- JS_IMPORT js/gamestate.js -->
        <!-- JS_IMPORT js/boardrenderer.js -->
        <!-- JS_IMPORT js/rtc.js -->
        <!-- JS_IMPORT js/objects.js -->
        <!-- JS_IMPORT js/scoreboardmaker.js -->
        <!-- JS_IMPORT js/boardgenerator.js -->
        <!-- JS_IMPORT js/audioplayer.js -->
        <!-- JS_IMPORT host/game_setup.js -->
        <!-- JS_IMPORT host/game_management.js -->
        <!-- JS_IMPORT host/player_management.js -->
        <!-- JS_IMPORT host/main.js -->
        <!-- JS_IMPORT host/feedback.js -->

        <!-- BEGIN js_imports -->
        <script src="../js/text.js?v29"></script>
        <script src="../js/qrcode.js?v29"></script>
        <script src="../js/sprite.js?v29"></script>
        <script src="../js/nosleep.js?v29"></script>
        <script src="../js/mathutils.js?v29"></script>
        <script src="../js/phone_coordinates.js?v29"></script>
        <script src="../js/board.js?v29"></script>
        <script src="../js/gamestate.js?v29"></script>
        <script src="../js/boardrenderer.js?v29"></script>
        <script src="../js/rtc.js?v29"></script>
        <script src="../js/objects.js?v29"></script>
        <script src="../js/scoreboardmaker.js?v29"></script>
        <script src="../js/boardgenerator.js?v29"></script>
        <script src="../js/audioplayer.js?v29"></script>
        <script src="../host/game_setup.js?v29"></script>
        <script src="../host/game_management.js?v29"></script>
        <script src="../host/player_management.js?v29"></script>
        <script src="../host/main.js?v29"></script>
        <script src="../host/feedback.js?v29"></script>
        <!-- END -->
    </body>

</html>