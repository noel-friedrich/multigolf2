<!DOCTYPE html>
<html lang="en" style="overscroll-behavior: contain;">

    <!-- SET title=Client | Multigolf -->
    <!-- SET description=Participant's page to play a multi.golf page that turns your device into a minigolf board -->
    <!-- BEGIN default_head -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="$description$">
        <meta charset="UTF-8">
        <title>Client | Multigolf</title>
        <link rel="icon" type="image/svg" href="../assets/logo/favicon.ico" />
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Quicksand">
    </head>
    <!-- END -->

    <body>
        <header>
            <img src="../assets/logo/logo.svg" class="logo"></img>
            <a href="../">Multigolf</a>
        </header>
        
        <main id="active-main">
            <h2 id="loading-indicator">
                Loading...
            </h2>

            <h2 id="status-title">Connecting to Host...</h2>
            <p>
                Welcome to the game! Please keep this tab open and don't 
                close the page until the game is over. While the game
                is being setup, you don't need to do anything on this
                device, except keeping it awake.
            </p>
            <p>
                This is Device#<span data-fill="device-index">?</span>.
            </p>
            <p id="log-output" style="font-family: monospace; white-space: pre-wrap; text-align: left;"></p>
            <fieldset>
                <legend>Page Sizing</legend>
                <div class="checkbox-container">
                    <input name="fullscreen-check" id="fullscreen-checkbox" type="checkbox" checked>
                    <label for="fullscreen-check">Request fullscreen when clicking on the Multigolf course</label>
                </div>
                <p>
                    On some phones and especially IPads (depending on browser and version), it makes
                    sense to disable this fullscreen mode as the browser will force gestures like
                    pulling a ball to be interpreted as exiting fullscreen mode.
                </p>
            </fieldset>
        </main>

        <canvas style="display: none;" id="fullscreen-canvas"></canvas>
        
        <!-- BEGIN default_js -->
        <script>
            {
                if (localStorage.getItem("style") == null) {
                    const prefersDarkMode = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches
                    if (prefersDarkMode) {
                        localStorage.setItem("style", "dark")
                    } else {
                        localStorage.setItem("style", "light")
                    }
                }
        
                document.body.dataset.style = localStorage.getItem("style") || "light"
            }
        </script>
        <!-- END -->

        <!-- SET js_version=22 -->
        <!-- JS_IMPORT js/sprite.js -->
        <!-- JS_IMPORT js/nosleep.js -->
        <!-- JS_IMPORT js/mathutils.js -->
        <!-- JS_IMPORT js/phone_coordinates.js -->
        <!-- JS_IMPORT js/board.js -->
        <!-- JS_IMPORT js/gamestate.js -->
        <!-- JS_IMPORT js/renderer.js -->
        <!-- JS_IMPORT js/rtc.js -->
        <!-- JS_IMPORT js/objects.js -->
        <!-- JS_IMPORT client/connection_management.js -->
        <!-- JS_IMPORT client/game_management.js -->

        <!-- BEGIN js_imports -->
        <script src="../js/sprite.js?v22"></script>
        <script src="../js/nosleep.js?v22"></script>
        <script src="../js/mathutils.js?v22"></script>
        <script src="../js/phone_coordinates.js?v22"></script>
        <script src="../js/board.js?v22"></script>
        <script src="../js/gamestate.js?v22"></script>
        <script src="../js/renderer.js?v22"></script>
        <script src="../js/rtc.js?v22"></script>
        <script src="../js/objects.js?v22"></script>
        <script src="../client/connection_management.js?v22"></script>
        <script src="../client/game_management.js?v22"></script>
        <!-- END -->
    </body>

</html>